@using BarnamenevisanCompany.Application.Extensions
@using BarnamenevisanCompany.Application.Statics
@using BarnamenevisanCompany.Domain.ViewModels.Admin.SiteSetting
@model BarnamenevisanCompany.Domain.ViewModels.Client.Job.ClientFilterJobViewModel
@{
    ViewData["Title"] = "فرصت‌های شغلی";
    var siteSettings = ViewData["SiteSettings"] as AdminSiteSettingUpdateViewModel;
}

@section Breadcrumb{
    <breadcrumb page-title="لیست @ViewData["Title"]">

    </breadcrumb>
}

<form asp-area=""
      asp-controller="Job"
      asp-action="List"
      method="get"
      id="filter-search">
    <input asp-for="@Model.Page" type="hidden"/>
</form>

@if (Model.Entities is not null && Model.Entities.Any())
{
    <section dir="rtl" class="mb-24 lg:mb-42 relative">
        <div class="absolute left-1/2 -top-[300px] w-full h-[550px] -translate-x-1/2 bg-cover bg-[url('../images/hero-gradient.png')] bg-no-repeat bg-center opacity-70 md:hidden -z-10"></div>
        <div class="container">
            <div class="bg-white dark:bg-dark-200 shadow-nav rounded-medium p-2.5 mb-12 max-md:h-[400px] aos-init aos-animate" data-aos="fade-up" data-aos-offset="200" data-aos-duration="1000" data-aos-once="true">
                <img src="@FilePaths.SiteSettings@siteSettings!.JobListImageName" alt="career banner" class="w-full  rounded max-md:w-auto max-md:object-cover max-md:object-center  max-md:h-full">
            </div>
            <div class=" max-w-[850px] mx-auto">
                <h2 class=" max-w-[700px] mb-9">@siteSettings.JobListTitle</h2>
                <div>
                    @Html.Raw(siteSettings.JobListDescription)
                </div>
            </div>
        </div>
    </section>
    <section dir="rtl" class="mb-24 lg:mb-42 relative max-md:overflow-hidden">
        <div
            class="absolute left-0 right-0 top-0 bg-[url('../images/core-gradient.png')] bg-cover bg-no-repeat bg-center opacity-70 w-full h-full  md:hidden"></div>
        <div class="container relative">
            <div
                class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex max-md:flex-col -z-10 max-md:hidden">
                <div
                    class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] 1xl:h-[442px]  rounded-full bg-primary-200/20 -ml-[170px] blur-[145px]"></div>
                <div
                    class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] 1xl:h-[442px]  rounded-full bg-primary-200/20 -ml-[170px] max-md:ml-0 blur-[145px]"></div>
                <div
                    class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] 1xl:h-[442px]  rounded-full bg-primary-200/20 max-md:ml-0 blur-[145px]"></div>
            </div>
            <div class=" [&amp;>*:not(:last-child)]:mb-10 ">
                @foreach (var item in Model.Entities)
                {
                    <div class=" bg-white dark:bg-dark-200 rounded-medium p-2.5 max-w-[1050px] mx-auto shadow-nav">
                        <div
                            class=" bg-white dark:bg-dark-200 border border-dashed rounded border-gray-100 dark:border-borderColour-dark py-6 px-5 xl:px-8">
                            <div class="grid grid-cols-12 max-md:gap-y-5 items-center">
                                <div class="col-span-full lg:col-span-4 line-clamp-1">
                                    <h3 class="text-xl">@item.Title</h3>
                                </div>
                                <div class="col-span-full sm:col-span-full md:col-span-5 lg:col-span-4">
                                    <div class="line-clamp-2 px-2">
                                        <p class="text-light" title="@item.ShortDescription">
                                            @item.ShortDescription
                                        </p>
                                    </div>
                                </div>

                                <div
                                    class="flex justify-center col-span-full sm:col-span-9 md:col-span-4 lg:col-span-2 items-center gap-2">
                                    <span
                                        class="bg-primary py-1 px-4 rounded-medium border text-paragraph border-paragraph text-sm font-medium">
                                        @item.JobConditions.GetEnumName()
                                    </span>
                                </div>
                                <div class="flex justify-center col-span-full sm:col-span-3 lg:col-span-2">
                                    <a asp-area="" asp-controller="Job" asp-action="ShortLink" asp-route-id="@item.Id"
                                       target="_blank" class="btn-outline btn-sm">
                                        بیشتر
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="mt-16 flex justify-center">
                <partial name="~/Views/Shared/_PagingPartial.cshtml" model="@Model.GetCurrentPaging()"/>
            </div>
        </div>
    </section>
    <partial name="_BacklightPartial"/>
}
else
{
    <partial name="_EmptyContentPartial"/>
}
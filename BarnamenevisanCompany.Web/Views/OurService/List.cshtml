@using AngleSharp.Text
@using BarnamenevisanCompany.Application.Extensions
@using BarnamenevisanCompany.Application.Statics
@using BarnamenevisanCompany.Domain.ViewModels.Admin.SiteSetting
@model BarnamenevisanCompany.Domain.ViewModels.Client.OurService.ClientFilterServiceViewModel
@{
    ViewData["Title"] = "خدمات ما";
    var siteSettings = ViewData["SiteSettings"] as AdminSiteSettingUpdateViewModel;
}


<section dir="rtl" class="hero overflow-hidden relative pt-48 pb-24 z-40">
    <div class="container">
        <div class="max-w-[948px] mx-auto text-center aos-init aos-animate" data-aos="fade-up" data-aos-offset="200" data-aos-duration="1000" data-aos-once="true">
            <h1 class="max-lg:mb-10 mb-10">@siteSettings!.OurServicePageTitle</h1>
            <div class="max-lg:mb-10 mb-12 max-w-[590px] mx-auto">
                @Html.Raw(siteSettings.OurServiceDescription)
            </div>
        </div>
    </div>
</section>

@if (Model is not null && Model.Entities.Any())
{
    <section dir="rtl" class="mb-24 lg:mb-40 bg-white dark:bg-dark-300 pb-150 relative max-sm:overflow-hidden">
        <div class="container relative mb-16">
            <div class="relative z-10">
                <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex max-md:flex-col -z-10 max-sm:hidden">
                    <div class="w-[330px] h-[330px] xl:w-[442px] blur-[145px] bg-primary-200/20"></div>
                    <div class="w-[330px] h-[330px] xl:w-[442px] blur-[145px] rounded-full bg-primary-200/20 lg:-ml-[170px]"></div>
                </div>
                <form asp-area="" asp-action="List" asp-controller="OurService" method="get" id="filter-search">
                    <input asp-for="@Model.Page" type="hidden"/>
                    <div class="grid grid-cols-3 max-md:grid-cols-1 max-lg:grid-cols-2 gap-8 aos-init aos-animate"
                         data-aos="fade-up" data-aos-offset="200" data-aos-duration="1000" data-aos-once="true">
                        @foreach (var item in Model.Entities)
                        {
                            <div
                                class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav scale-100 hover:scale-105 transition-transform duration-500 hover:transition-transform hover:duration-500">
                                <div
                                    class="border border-dashed rounded border-gray-100 dark:border-borderColour-dark p-10 h-full max-lg:p-5 flex flex-col justify-between">
                                    <div>
                                        <div class="mb-3 ">
                                            @Html.Raw(item.ImageName.ConvertSvgFileToCode(FilePaths.OurServiceOriginalImage).Replace("<svg ", "<svg class='size-[65px]' fill='currentColor'"))
                                        </div>
                                        <a asp-action="Detail" asp-area="" asp-controller="OurService"
                                           asp-route-Slug="@item.Slug" class="block">
                                            <h3 class="mb-2.5"> @item.Title </h3>
                                        </a>
                                        <div class="mb-6 line-clamp-2">@Html.Raw(item.ShortDescription)</div>
                                    </div>
                                    <div>
                                        <a asp-action="Detail" asp-area="" asp-controller="OurService"
                                           asp-route-Slug="@item.Slug" class="btn-outline btn-sm">
                                            بیشتر
                                        </a>
                                    </div>
                                </div>    
                            </div>
                        }
                    </div>
                </form>
            </div>
        </div>
            <partial name="_PagingPartial" model="Model.GetCurrentPaging()"/>
    </section>
}
else
{
    <partial name="_EmptyContentPartial"/>
}
@using BarnamenevisanCompany.Application.Extensions
@using BarnamenevisanCompany.Application.Statics
@model BarnamenevisanCompany.Domain.ViewModels.Client.Project.ClientProjectDetailViewModel

@{
    ViewData["Title"] = $"{Model.Title}";
}

@section Breadcrumb{
    <breadcrumb page-title="@ViewData["Title"]">
        <breadcrumb-item asp-area="" asp-action="Projects" asp-controller="List">پروژه ها</breadcrumb-item>
        <breadcrumb-item last-active-item="true">@Model.Title</breadcrumb-item>
    </breadcrumb>
}

@section Script{
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
}

<section dir="rtl" class="mb-24 relative max-md:overflow-hidden lg:mb-40">
    <div class="container relative z-10 aos-init aos-animate" data-aos="fade-up" data-aos-offset="200"
         data-aos-duration="1000" data-aos-once="true">
        <div class="absolute left-1/2 top-auto -translate-x-1/2 flex max-md:flex-col -z-10 max-md:hidden">
            <div
                class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-64 bg-primary-200/20 blur-[145px]"></div>
            <div
                class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-64 bg-primary-200/20 max-md:ml-0 blur-[145px]"></div>
            <div
                class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-64 bg-primary-200/20 max-md:ml-0 blur-[145px]"></div>
        </div>
        <div class="relative z-10 grid grid-cols-12 gap-y-15 md:gap-8 lg:gap-12 auto-rows-max">

            <div
                class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav col-span-12 md:col-span-6 lg:col-span-5 self-start md:sticky md:top-20 max-md:static z-10">
                <div class="border border-dashed rounded border-gray-100 dark:border-borderColour-dark pt-9 px-10 pb-7">
                    <h2 class="mb-3">@Model.Title</h2>
                    <div class="mt-10">
                        <ul class="space-y-2">
                            <li>
                                <div class="flex items-center space-x-1 space-x-reverse text-lg">

                                    <h5 class="font-medium">آدرس سایت :</h5>
                                    <span class="font-normal hover:*:text-[#B1E345] *:transition-all duration-150"><a target="_blank"
                                                                 href="@(Model.SiteUrl)">@Model.SiteUrl.Replace("https://", "")</a></span>


                                </div>
                            </li>
                            <li>
                                <div class="flex items-center space-x-1 space-x-reverse text-lg">
                                    <h5 class="font-medium">تعداد بازدید :</h5>
                                    <span class="font-normal">@Model.Views</span>
                                </div>
                            </li>
                        </ul>
                        <div class="mt-10 flex flex-col items-center justify-center">
                            <div class="relative size-28">
                                <svg class="size-full -rotate-90" viewBox="0 0 36 36"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="18" cy="18" r="16" fill="none"
                                            class="stroke-current text-gray-200 dark:text-neutral-700"
                                            stroke-width="2"></circle>
                                    <circle cx="18" cy="18" r="16" fill="none"
                                            class="stroke-current text-[#B1E345] dark:text-[#B1E345]" stroke-width="2"
                                            stroke-dasharray="100" stroke-dashoffset="@(100 - Model.ProgressByte)"
                                            stroke-linecap="round"></circle>
                                </svg>
                                <div class="absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2">
                                    <span
                                        class="text-center text-3xl font-bold text-[#B1E345] dark:text-[#B1E345]">@Model.ProgressByte%</span>
                                </div>
                            </div>
                            <div class="mt-2"><h5 class="font-semibold">میزان پیشرفت پروژه</h5></div>
                        </div>
                    </div>
                </div>
            </div>

            <div
                class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav relative max-md:col-span-full md:col-span-6 lg:col-span-7 z-10">
                <div class="border border-dashed rounded border-gray-100 dark:border-borderColour-dark p-4 md:p-7">
                    <div class="bg-white dark:bg-dark-200 rounded-medium shadow-nav">
                        <a href="@(Model.SiteUrl.Contains("https://") ? Model.SiteUrl : $"https://{Model.SiteUrl}")"
                           target="_blank">
                            <img src="@(FilePaths.ProjectImage + Model.ImageName)" alt="تصاویر خدمات"
                                 class="rounded w-full">
                        </a>
                    </div>
                    <div class="mt-5">
                        <h3 class="mb-3">@Model.Title</h3>
                        <p class="mb-3">
                            @Html.Raw(Model.Descripition)
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

@if (Model.TeaserName != null || Model.TechnologyGallery.Any())
{
    <section dir="rtl" class="mb-24 relative max-md:overflow-hidden lg:mb-40">
        <div class="container">
            <div class="relative z-10">
                <div
                    class="absolute left-1/2 top-20 -translate-x-1/2 -translate-y-1/2 flex max-md:flex-col -z-10 max-md:hidden">
                    <div
                        class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 blur-[145px]"></div>
                    <div
                        class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 max-md:ml-0 blur-[145px]"></div>
                    <div
                        class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 max-md:ml-0 blur-[145px]"></div>
                </div>
                <div class="text-center mb-14">
                    <h2>تصاویر و تیزر پروژه</h2>
                </div>

                @if (Model.TeaserName != null)
                {
                    <div
                        class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav relative max-md:col-span-full md:col-span-6 lg:col-span-8 mb-6">
                        <div class="border border-dashed rounded border-gray-100 dark:border-borderColour-dark p-2">
                            <div class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav">
                                <video class="w-full plyr-init rounded-medium"
                                       poster="@(!Model.TeaserPoster.IsNullOrEmptyOrWhiteSpace() ? FilePaths.ProjectTeaserPoster + Model.TeaserPoster : "")">
                                    <source src="@(FilePaths.ProjectTeaser + Model.TeaserName)">
                                </video>
                            </div>
                        </div>
                    </div>
                }

                @if (Model.TechnologyGallery is not null && Model.TechnologyGallery.Any())
                {
                    <div class="!pb-20 swiper swiper-initialized swiper-horizontal swiper-rtl swiper-backface-hidden">
                        <div
                            class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav relative max-md:col-span-full md:col-span-6 lg:col-span-8">
                            <div class="border border-dashed rounded border-gray-100 dark:border-borderColour-dark p-2">
                                <div class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav">
                                    <swiper-container space-between="30"
                                                      speed="3000"
                                                      loop="true"
                                                      autoplay-disable-on-interaction="true"
                                                      id="gallery-swiper"
                                                      pagination='{"el": "#gallery-pagination", "clickable": true}'>
                                        @foreach (var item in Model.TechnologyGallery)
                                        {
                                            <swiper-slide class="w-28 h-44" data-swiper-autoplay="1500">
                                                <a href="@FilePaths.ProjectGallery@item.ImageName"
                                                   data-lightbox="project-gallery"
                                                   data-title="گالری @Model.Title"
                                                   data-alt="تصویر گالری پروژه ی @Model.Title"
                                                   class="w-full h-full">
                                                    <img src="@FilePaths.ProjectGallery@item.ImageName"
                                                         alt="تصاویر گالری پروژه"
                                                         class="rounded w-full h-full object-fill">
                                                </a>
                                            </swiper-slide>
                                        }
                                    </swiper-container>
                                </div>
                            </div>

                        </div>
                        <div id="gallery-pagination"
                             class="swiper-pagination swiper-pagination-bullets swiper-pagination-horizontal">
                            <span
                                part="bullet" class="swiper-pagination-bullet"></span>
                            <span part="bullet"
                                  class="swiper-pagination-bullet"></span>
                            <span
                                part="bullet" class="swiper-pagination-bullet"></span>
                            <span part="bullet"
                                  class="swiper-pagination-bullet"></span>
                            <span
                                part="bullet" class="swiper-pagination-bullet swiper-pagination-bullet"></span></div>
                    </div>
                }
            </div>
        </div>
    </section>
}

@* @if (Model.Programmers != null && Model.Programmers.Any()) *@
@* { *@
@*     <section dir="rtl" class="mb-24 relative max-md:overflow-hidden lg:mb-40"> *@
@*         <div class="container "> *@
@*             <div class="relative z-10"> *@
@*                 <div *@
@*                     class="absolute left-1/2 top-20 -translate-x-1/2 -translate-y-1/2 flex max-md:flex-col -z-10 max-md:hidden"> *@
@*                     <div *@
@*                         class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 -ml-[170px] blur-[145px] rounded-full"></div> *@
@*                     <div *@
@*                         class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 -ml-[170px] max-md:ml-0 blur-[145px]"></div> *@
@*                     <div *@
@*                         class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 max-md:ml-0 blur-[145px] rounded-full"></div> *@
@*                 </div> *@
@*                 <div class="text-center mb-14"> *@
@*                     <h2>اعضای اشتراک داشته در پیاده سازی</h2> *@
@*                 </div> *@
@*                 <div *@
@*                     class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-md:gap-y-15 justify-center "> *@
@* *@
@*                     @foreach (var item in Model.Programmers) *@
@*                     { *@
@*                         <div data-aos="fade-up" data-aos-offset="200" data-aos-duration="1000" *@
@*                              data-aos-delay="300" *@
@*                              data-aos-once="true" class="group/image aos-init aos-animate"> *@
@*                             <div class="bg-white dark:bg-dark-200 rounded-medium p-2.5 mb-6 flex w-fit"> *@
@*                                 <a href="@(!item.SiteUrl.IsNullOrEmptyOrWhiteSpace() && item.SiteUrl.Contains("https://") ? item.SiteUrl : !item.SiteUrl.IsNullOrEmptyOrWhiteSpace() ? $"https://{item.SiteUrl}" : item.SiteUrl.IsNullOrEmptyOrWhiteSpace() ? "javascript:void(0)" : "")" *@
@*                                    title="@(item.SiteUrl.IsNullOrEmptyOrWhiteSpace() ? "" : $"وب سایت شخصی {item.FullName}")"> *@
@*                                     <div class=" rounded bg-gray-100 dark:bg-[#30302F] overflow-hidden"> *@
@*                                         <img *@
@*                                             src="@(!item.UserImage.IsNullOrEmptyOrWhiteSpace() ? FilePaths.UserThumbAvatar + item.UserImage : FilePaths.UserOriginalAvatar + SiteTools.DefaultUserImageName)" *@
@*                                             alt="team member image" *@
@*                                             class="@(!item.UserImage.IsNullOrEmptyOrWhiteSpace() ? "grayscale group-hover/image:grayscale-0" : "") duration-300 transition-all w-full"> *@
@*                                     </div> *@
@*                                 </a> *@
@*                             </div> *@
@*                             <div class="text-center"> *@
@*                                 <a target="_blank" *@
@*                                    href="@(!item.SiteUrl.IsNullOrEmptyOrWhiteSpace() && item.SiteUrl.Contains("https://") ? item.SiteUrl : !item.SiteUrl.IsNullOrEmptyOrWhiteSpace() ? $"https://{item.SiteUrl}" : item.SiteUrl.IsNullOrEmptyOrWhiteSpace() ? "javascript:void(0)" : "")"> *@
@*                                     <h3 class="mb-2"> @item.FullName </h3></a> *@
@*                                 <p class="text-sm font-medium leading-[1.5] mb-6">@item.UserPosition </p> *@
@*                                 <ul class="flex  justify-center social-link gap-4"> *@
@*                                     @foreach (var social in item.UserSocialNetworkViewModels) *@
@*                                     { *@
@*                                         <li> *@
@*                                             <a href="@social.SocialLink" class="transiton-all"> *@
@*                                                 @Html.Raw(social.ImageName.ConvertSvgFileToCode(FilePaths.UserSocialNetwork)) *@
@*                                             </a> *@
@*                                         </li> *@
@*                                     } *@
@*                                 </ul> *@
@*                             </div> *@
@*                         </div> *@
@*                     } *@
@* *@
@*                 </div> *@
@*             </div> *@
@*         </div> *@
@*     </section> *@
@* } *@

@if (Model.Technologys != null && Model.Technologys.Any())
{
    <section dir="rtl" class="mb-24 relative max-md:overflow-hidden lg:mb-40">
        <div class="container relative aos-init aos-animate" data-aos="fade-up" data-aos-offset="200"
             data-aos-duration="1000" data-aos-once="true">
            <div
                class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex max-md:flex-col -z-10 max-md:hidden">
                <div
                    class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 -ml-[170px] blur-[145px] rounded-full"></div>
                <div
                    class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 -ml-[170px] max-md:ml-0 blur-[145px]"></div>
                <div
                    class="max-1xl:w-[335px] max-1xl:h-[335px]  1xl:w-[442px] h-44 bg-primary-200/20 max-md:ml-0 blur-[145px] rounded-full"></div>
            </div>

            <div class="text-center mb-14">
                <h2> تکنولوژی های استفاده شده </h2>
            </div>
            <div class="grid grid-cols-4 max-sm:grid-cols-1 max-lg:grid-cols-2 gap-5">
                @foreach (var item in Model.Technologys)
                {
                    <div
                        class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav relative scale-100 hover:scale-105 transition-transform duration-500 hover:transition-transform hover:duration-500">
                        <div
                            class="flex flex-col justify-center items-center border border-dashed rounded border-gray-100 dark:border-borderColour-dark max-lg:p-5 p-10">
                            <img src="@(FilePaths.TechnologyImage + item.ImageName)" alt="@item.ImageName"
                                 class="inline-block mb-8 h-20">
                            <a href="#" class="block">
                                <h3 class="mb-2.5 font-semibold text-2xl">@item.Title</h3>
                            </a>
                        </div>
                    </div>
                }
            </div>
        </div>
    </section>
}

@await Component.InvokeAsync("ProjectSlider")



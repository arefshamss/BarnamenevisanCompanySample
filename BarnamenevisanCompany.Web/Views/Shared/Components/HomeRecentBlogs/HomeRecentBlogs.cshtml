@using BarnamenevisanCompany.Application.Extensions
@using BarnamenevisanCompany.Application.Statics
@model BarnamenevisanCompany.Domain.ViewModels.Client.Blog.ClientFilterBlogViewModel

@if (Model is not null && Model.Entities.Any())
{
    <section class="bg-white dark:bg-dark py-20 relative">
        <div
            class="absolute left-0 right-0 top-1/2 -translate-y-1/2 bg-[url('..//Site/assets/images/service-bg.png')] bg-no-repeat bg-center opacity-70 w-full h-full bg-[length:600px_1800px] md:hidden">
        </div>
        <div class="container relative">
            <div class="text-center max-w-[550px] mx-auto mb-16">
                <h2>مقالات اخیر ما</h2>
            </div>
            <div class="relative z-10">
                <div
                    class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex max-lg:flex-col -z-10 max-md:hidden">
                    <div
                        class="w-[350px] h-[350px] lg:w-[442px] blur-[80px] lg:blur-[145px] rounded-full bg-primary-200/20">
                    </div>
                    <div
                        class="w-[350px] h-[350px] lg:w-[442px] blur-[80px] lg:blur-[145px] rounded-full bg-primary-200/20 lg:-ml-[170px]">
                    </div>
                </div>

                <div dir="rtl" class="grid grid-cols-3 max-md:grid-cols-1 max-lg:grid-cols-2 gap-8">
                    @foreach (var item in Model.Entities)
                    {
                        <article
                            class="bg-white dark:bg-dark-200 rounded-medium p-2.5 shadow-nav scale-100 hover:scale-105 transition-transform duration-500 hover:transition-transform hover:duration-500">
                            <div
                                class="border border-dashed rounded border-gray-100 dark:border-borderColour-dark p-6 max-md:p-4 h-full">
                                <a asp-area="" asp-controller="Blog" asp-action="ShortLink" asp-route-id="@item.Id"
                                   target="_blank" class="w-full">
                                    <img src="@(FilePaths.BlogThumbImage + item.ImageUrl)" alt="تصویر @item.Title"
                                         class="mb-6 w-full rounded-md"/>
                                </a>
                                <div>
                                    <a asp-area="" asp-controller="Blog" asp-action="ShortLink" asp-route-id="@item.Id"
                                       target="_blank" class="block">
                                        <h3 class="mb-3 font-semibold leading-[1.33] line-clamp-2">
                                            @item.Title
                                        </h3>
                                    </a>
                                    <div class="flex gap-x-2 items-center mb-4">
                                        <p>@item.Author</p>
                                        <span>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="5" height="6"
                                                 viewBox="0 0 5 6" fill="none">
                                                <circle cx="2.5" cy="3" r="2.5" fill=""
                                                        class="fill-[#D8DBD0] dark:fill-[#3B3C39]"/>
                                            </svg>
                                        </span>
                                        <p>@item.CreatedDate.ToShamsi()</p>
                                    </div>
                                    <div class="line-clamp-2">
                                        @Html.Raw(item.ShortDescription)
                                    </div>
                                </div>
                            </div>
                        </article>
                    }
                </div>
            </div>
            <div class="mt-16 flex items-center justify-center">
                <a asp-area="" asp-controller="Blog" asp-action="List" class="btn-outline">مشاهده همه</a>
            </div>
        </div>
    </section>
}